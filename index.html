<!DOCTYPE html>
<html>

<head>
    <title>Simple Map</title>
    <script src='https://unpkg.com/@turf/turf/turf.min.js'></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbaDJSfTyN5Tcf5S-4rYpqB46wVxF3nKc&callback=initMap">
        </script>

    <style type="text/css">
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            display: flex;
            flex-direction: column;
            height: 100%;
            margin: 0;
            padding: 0px;
        }

        .content {
            flex: 1;
        }

        .navigation {
            border-top: 1px solid #555;
            display: flex;
            flex-direction: row;
            height: 40px;
        }

        .navigation button {
            background: #f0f0f0;
            border: 0;
            border-right: 1px solid #555;
            border-radius: 0;
            color: #555;
            cursor: pointer;
            display: block;
            flex: 1;
        }

        .navigation button:last-child {
            border: 0;
        }

        .toggle-stack.active,
        .toggle-markers.active {
            background: #ddd;
        }

        .messages {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 0 2px 2px 0;
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.15);
            display: none;
            font-family: sans-serif;
            padding: 0 10px 10px;
            position: absolute;
            top: 50%;
            transform: translate(0%, -50%);
            width: 180px;
        }

        .messages.active {
            display: block;
        }

        .messages h4 {
            font-family: sans-serif;
        }
    </style>
    <script>
        "use strict";

        // const county = [
        //     [
        //         -118.228928,
        //         46.593606
        //     ],
        //     [
        //         -118.224468,
        //         46.591022
        //     ],
        //     [
        //         -118.21566,
        //         46.588924
        //     ],
        //     [
        //         -118.172552,
        //         46.556947
        //     ],
        //     [
        //         -117.851844,
        //         46.624772
        //     ],
        //     [
        //         -117.863261,
        //         46.470935
        //     ],
        //     [
        //         -117.737301,
        //         46.471366
        //     ],
        //     [
        //         -117.675113,
        //         46.337628
        //     ],
        //     [
        //         -117.611815,
        //         46.338496
        //     ],
        //     [
        //         -117.603163,
        //         45.998887
        //     ],
        //     [
        //         -117.977766,
        //         46.000695
        //     ],
        //     [
        //         -117.996911,
        //         46.000787
        //     ],
        //     [
        //         -117.991292,
        //         46.207843
        //     ],
        //     [
        //         -118.116493,
        //         46.207912
        //     ],
        //     [
        //         -118.116139,
        //         46.295455
        //     ],
        //     [
        //         -118.241611,
        //         46.295072
        //     ],
        //     [
        //         -118.228928,
        //         46.593606
        //     ]
        // ];

        const county = { "type": "Feature", "geometry": { "type": "Polygon", "coordinates": [[[-118.98222952527439, 47.96155922529573], [-118.98230741314279, 47.960621337957178], [-118.98218152810311, 47.959492091450251], [-118.98206229101677, 47.958422425384192], [-118.98205729310203, 47.957884724998145], [-118.98220516346269, 47.957068025312971], [-118.98229717965961, 47.956719070087672], [-118.98251393434306, 47.95589702092569], [-118.98261720896691, 47.955505343487708], [-118.98267331578991, 47.954258783152405], [-118.98267902472213, 47.954235131609458], [-118.98300432046383, 47.952888663446139], [-118.98307442479482, 47.952079179412713], [-118.9829989505821, 47.950652050847133], [-118.98284099070455, 47.949470922527098], [-118.98268767697375, 47.948982700684205], [-118.98227642441505, 47.948382865082479], [-118.98164209725593, 47.947736641907575], [-118.98051560297729, 47.946897975348286], [-118.98044158188677, 47.946842866719109], [-118.9803297094939, 47.946759866588877], [-118.97926831485282, 47.94585519005264], [-118.97845614456968, 47.945295046129587], [-118.97730778082762, 47.944648627140779], [-118.97628645395284, 47.944198145095164], [-118.97417278933769, 47.943602893987766], [-118.97368198126443, 47.942655337139179], [-118.97287930539341, 47.941105625131968], [-118.97282313213762, 47.940997165669849], [-118.97291925589224, 47.940302416844197], [-118.97313295627524, 47.938757806273529], [-118.973557568912, 47.935688453755361], [-118.97374887940839, 47.934305416135892], [-118.97395637474506, 47.932805329923532], [-118.97394755242664, 47.918022423669491], [-118.97415372259647, 47.903631288875594], [-118.9742540214487, 47.888806214086436], [-118.97442342456607, 47.874127884745079], [-118.97467778313525, 47.859183256866629], [-118.97481602308144, 47.844660539490192], [-118.97510487769397, 47.830135909650913], [-118.97504750224275, 47.815401045956229], [-118.97531700669994, 47.800833766516867], [-118.97547484331686, 47.78632523015316], [-118.97531930544085, 47.771820364689695], [-118.97537332098364, 47.757384625959105], [-118.97553614659226, 47.742839874462511], [-118.97566801762831, 47.728239118420099], [-118.97590525928565, 47.713644423133545], [-118.9758774413978, 47.69908147237232], [-118.97623708529824, 47.684459038890814], [-118.9764945025306, 47.66985605494051], [-118.97671834999164, 47.655286467886697], [-118.97701482889919, 47.640726277172874], [-118.97717941909094, 47.626305130191291], [-118.97752577708512, 47.611833804710585], [-118.97777432456418, 47.596948137201544], [-118.97765428106607, 47.582406770631422], [-118.97757367512443, 47.567903845379107], [-118.97767228728061, 47.553368230557517], [-118.97762555639851, 47.538815865819174], [-118.97777975985599, 47.524173491247389], [-118.97758358417096, 47.50961074883984], [-118.97763621619784, 47.495266072169017], [-118.97775431042425, 47.480613036128439], [-118.97786247773284, 47.465880066548792], [-118.97824642511573, 47.451292341936892], [-118.97840752088861, 47.436716195347302], [-118.97849842656113, 47.429570005036702], [-118.9785839818618, 47.422137849475249], [-118.9787306994311, 47.414882292906327], [-118.97869836697672, 47.407525018791439], [-118.97876117388158, 47.400367762829369], [-118.9788257631308, 47.393234290119736], [-118.97883027453116, 47.385778208206155], [-118.97893958132107, 47.378427327493341], [-118.9789981622156, 47.371096034541033], [-118.97931802301882, 47.363848909627833], [-118.97923828689405, 47.356536858126773], [-118.9791585681774, 47.349224795492724], [-118.97912306038577, 47.341927521514414], [-118.97906752381579, 47.334630212689937], [-118.97904895540454, 47.327251180977441], [-118.97906277422541, 47.320002892056046], [-118.97907684802568, 47.312754700677168], [-118.97910248867501, 47.30546153517642], [-118.97922467625179, 47.298171504563562], [-118.979185395348, 47.290880955605701], [-118.97914624305471, 47.283605847552451], [-118.97931548459938, 47.276311335468961], [-118.97954144373944, 47.269012680134317], [-118.97974909493188, 47.261728344500646], [-118.97977787304191, 47.254448162448192], [-118.97976342045715, 47.247170129612471], [-118.97983780419304, 47.239864030462023], [-118.97995017119499, 47.232574739865015], [-118.97995542705257, 47.225270838972357], [-118.97997005037911, 47.217983738589808], [-118.9798987835641, 47.210696905628311], [-118.97985210606156, 47.20338397933336], [-118.98010726434691, 47.196072741719235], [-118.98036235146145, 47.188761547241093], [-118.98061673380047, 47.18145047270626], [-118.98078041375464, 47.174172397561811], [-118.98091202826448, 47.16686931490284], [-118.98095330947709, 47.159569425610265], [-118.98089343195764, 47.152266765366555], [-118.98115414444551, 47.144960609725906], [-118.9811553427341, 47.137662724499108], [-118.98115653652634, 47.130364826376997], [-118.98118400012488, 47.123061134558661], [-118.98121145519025, 47.115757462996179], [-118.98123980026806, 47.10845385378822], [-118.98126813256137, 47.101150265022184], [-118.98104787286012, 47.093906388489749], [-118.98104885243424, 47.093862825893773], [-118.9812138222251, 47.086530265628767], [-118.9812572190885, 47.079218139972191], [-118.9812965181617, 47.071907415740078], [-118.98131204040831, 47.06459507256789], [-118.98135267212136, 47.057267564832372], [-118.98143387241917, 47.049988340406529], [-118.98159250132471, 47.042680328138331], [-118.98166305918797, 47.03537851172424], [-118.98173359779197, 47.028076684074421], [-118.981814318753, 47.020767440791595], [-118.98193424918362, 47.013465240820764], [-118.98194722437022, 47.006164529039332], [-118.9819601952891, 46.998863258056559], [-118.98205768876797, 46.99154719742296], [-118.98215911908159, 46.983930028319683], [-118.98209179518653, 46.976894028287099], [-118.98202662962568, 46.969660765378613], [-118.98207052560376, 46.962373093573795], [-118.98210381866704, 46.955204858991991], [-118.9821038268, 46.955202717255155], [-118.98210439353313, 46.955081385554358], [-118.98210690195758, 46.954791230259382], [-118.98210725752308, 46.954750081916139], [-118.98216747287087, 46.947782168274301], [-118.98232965349659, 46.940482944951739], [-118.98243094511884, 46.933197189759028], [-118.98249162032981, 46.92591348708693], [-118.98257140614278, 46.918626958385403], [-118.98265117113743, 46.911340390243758], [-118.99326739718776, 46.911322112785982], [-118.99333968949229, 46.911321945774624], [-119.0038833702134, 46.911376062865088], [-119.00398987315185, 46.911376547799946], [-119.01455133390598, 46.911363940646403], [-119.01471181088348, 46.911363702671522], [-119.02521929457025, 46.91135017153109], [-119.02543374399421, 46.911349834104335], [-119.03582022389001, 46.911353779982065], [-119.03613741909398, 46.911353860365658], [-119.04642010401693, 46.911453053007598], [-119.04679304078536, 46.911456599816447], [-119.05707564359118, 46.911600895258957], [-119.05751402316189, 46.911607051483841], [-119.06773119541697, 46.911749480963287], [-119.0682350650231, 46.911756504556166], [-119.07844504499752, 46.911803691083811], [-119.07894172592263, 46.911806067729657], [-119.08915896308756, 46.911852335686739], [-119.08964841447587, 46.911854626860617], [-119.09987340046916, 46.911938294891549], [-119.10029025112298, 46.911941898097609], [-119.11070583331151, 46.912026016275995], [-119.11093227658904, 46.912027929523468], [-119.11626236990958, 46.912072311522259], [-119.12159246802811, 46.912116443910236], [-119.12177089520766, 46.912117782686124], [-119.12894386132247, 46.912176684438279], [-119.13225270891785, 46.912203705174804], [-119.13283607616333, 46.912213798343181], [-119.14288889428509, 46.912238272928683], [-119.1436509240738, 46.912239892602102], [-119.15352856680103, 46.912244225298664], [-119.15446930207617, 46.912240610336291], [-119.16416724155017, 46.912284306684136], [-119.16492683911804, 46.912287580925671], [-119.17480430035512, 46.912329556273413], [-119.17538252160715, 46.912338159588025], [-119.18548170769324, 46.912377936304161], [-119.18599202673133, 46.912362642149397], [-119.19616814441886, 46.912410800309054], [-119.19659890350572, 46.912409234833383], [-119.20680565550715, 46.912342474197636], [-119.20695896092984, 46.912340705647395], [-119.21732668691261, 46.912218825181029], [-119.21745541988365, 46.912217062234497], [-119.22790811088491, 46.912162335388849], [-119.22811427709105, 46.912161309393277], [-119.23836172681715, 46.912225554502555], [-119.23923394105461, 46.912235112236701], [-119.24908676706163, 46.912302316656884], [-119.25008523530848, 46.912309133070409], [-119.25983779052383, 46.912375586662691], [-119.26075219807235, 46.912382364525442], [-119.270494959857, 46.912452098376974], [-119.27129654957264, 46.912460082700861], [-119.2811255269599, 46.912557618965693], [-119.28183867030612, 46.912556892798399], [-119.2917073483751, 46.912619417147475], [-119.29230871793872, 46.912622920747445], [-119.30228962139714, 46.912675574122602], [-119.30277683548866, 46.91267799683267], [-119.31293572029934, 46.912680681472317], [-119.31337792044657, 46.912680974353421], [-119.32354487238499, 46.912677639382032], [-119.32398512277871, 46.912676462057966], [-119.33421378169072, 46.912652654111895], [-119.33451331051329, 46.912651741467997], [-119.34489878582464, 46.912611992262008], [-119.34505429540467, 46.912613262162353], [-119.35531189004251, 46.912578853404732], [-119.35637683647818, 46.912575698436953], [-119.36568756076466, 46.912544782157184], [-119.36867105175874, 46.912546466469955], [-119.36863975788276, 46.904719875894095], [-119.36862221893455, 46.897293394813516], [-119.36874491792838, 46.890284328284373], [-119.36886759475227, 46.883274787830452], [-119.36886561558781, 46.876045600373089], [-119.36888633220919, 46.868815456868752], [-119.36888416584745, 46.861589555518044], [-119.36891689143708, 46.854343863709509], [-119.36890462389923, 46.847112461070118], [-119.36910634148217, 46.83992656121648], [-119.36908557769964, 46.83271899175017], [-119.36909313920827, 46.825432182986269], [-119.36914263024438, 46.817617168299968], [-119.36921620599206, 46.80997283825932], [-119.36924760297892, 46.80269697342321], [-119.36937762265761, 46.795574819952691], [-119.36944984795628, 46.788444215027205], [-119.36950703063596, 46.781151235360319], [-119.36947065513714, 46.773898319990295], [-119.36948271542289, 46.766630106316207], [-119.36945208386993, 46.759376751287469], [-119.36946638797025, 46.752109171714878], [-119.36943630010758, 46.744854514555371], [-119.3694292047897, 46.737593301209273], [-119.36941153948396, 46.729544585798472], [-119.36939489546921, 46.7220573863748], [-119.36937658430527, 46.714569272501336], [-119.36935827819545, 46.707081146573245], [-119.36931094611349, 46.699855881803515], [-119.36926363061849, 46.692630606066537], [-119.36923546410884, 46.68539516118912], [-119.36916527399119, 46.678179356883938], [-119.37970634281365, 46.678153757128435], [-119.39020056080004, 46.678142365788958], [-119.4007584422108, 46.678033960700162], [-119.41131221669002, 46.678178315791875], [-119.42170442374028, 46.678378387867902], [-119.43205820734572, 46.678587546858246], [-119.44242998382362, 46.678804609827132], [-119.44527565858702, 46.678868420456489], [-119.44545605644652, 46.678872463783904], [-119.44636898293517, 46.678892911093897], [-119.44659195646621, 46.678897903519662], [-119.45106234416006, 46.678997919837613], [-119.45117483616703, 46.679000476953718], [-119.45117824537165, 46.679000554775989], [-119.45136362552581, 46.679004752316928], [-119.45159501418331, 46.679009992999895], [-119.45205626621907, 46.679020439818238], [-119.4528576638639, 46.679038584127269], [-119.45345876621677, 46.679052189858005], [-119.45310831065531, 46.679299969424207], [-119.45289987268771, 46.679467762178078], [-119.45170638292153, 46.680504102543665], [-119.45091829568483, 46.681488417805568], [-119.45050483852324, 46.68226381830295], [-119.45019058978933, 46.683057786891602], [-119.44972678112556, 46.684784677586698], [-119.44969270381942, 46.685516080793178], [-119.44992570351465, 46.686241155626149], [-119.45053547103954, 46.687268459893033], [-119.45139925360851, 46.68835051850634], [-119.45228752176827, 46.689196101413827], [-119.45337085073933, 46.689953152718786], [-119.45462509111657, 46.690735528454923], [-119.45859801027032, 46.692838272485162], [-119.46030670047703, 46.693830909144445], [-119.46208839031549, 46.694969387724406], [-119.46487310770415, 46.69691302886018], [-119.46958619856407, 46.700591201431912], [-119.47442765481236, 46.704574719051003], [-119.47682016348432, 46.70654539998749], [-119.47930545290711, 46.708785273779192], [-119.48147892523204, 46.710656385380275], [-119.48201304689999, 46.711297348331165], [-119.48303770945896, 46.712783539401173], [-119.48397427505326, 46.713867353893555], [-119.48576262590203, 46.715668464881631], [-119.48711281352777, 46.716814019368108], [-119.48906565041345, 46.718146220848261], [-119.49152695282932, 46.719587040830966], [-119.49320363031738, 46.720340854178346], [-119.49507189936432, 46.720981445868951], [-119.49869327287975, 46.723211632638368], [-119.50111819434736, 46.724705261267992], [-119.50501557002976, 46.726158281857238], [-119.50858596531916, 46.726966121510216], [-119.51138836569184, 46.727686855253239], [-119.51417069605714, 46.727762741704041], [-119.51642608206942, 46.727645674525391], [-119.51658176497786, 46.727637578643517], [-119.51845571834549, 46.726780862707955], [-119.52052239596129, 46.725408841471598], [-119.52246177479262, 46.723793032341668], [-119.52317956865839, 46.723349904157402], [-119.52414744824132, 46.722749846210185], [-119.52612996556242, 46.721162780564299], [-119.52930244666646, 46.717915670312365], [-119.53097970287912, 46.715096152100109], [-119.53300765438536, 46.712277181249469], [-119.534681233277, 46.709643889736498], [-119.53585413596153, 46.708926855580266], [-119.53708144157775, 46.70817513755236], [-119.53946938847906, 46.706713804540954], [-119.54576409598363, 46.701508079046825], [-119.54983163855461, 46.697774567800344], [-119.55428381904274, 46.694233142449541], [-119.55843654610744, 46.691381710918691], [-119.56243447480365, 46.688120590327408], [-119.56595548282003, 46.684758258915139], [-119.57121912505868, 46.679431520131068], [-119.57426951492043, 46.676731007877557], [-119.57983134534366, 46.671580255692589], [-119.58168430748799, 46.66990586282823], [-119.58900147466927, 46.664870715297127], [-119.59539583766566, 46.661108675088578], [-119.60113476148605, 46.657309077891632], [-119.60766344872053, 46.653870154195289], [-119.61360275849846, 46.650380725756143], [-119.6184787800748, 46.647582951752923], [-119.62095060836266, 46.64641897493086], [-119.62178243347986, 46.646077248340681], [-119.62318745096901, 46.645498418207737], [-119.6255223373184, 46.644668898378654], [-119.62771111929749, 46.644004295257616], [-119.63002992612758, 46.643422024500595], [-119.63232676986634, 46.642965223156388], [-119.6333883299646, 46.642813330116546], [-119.63598880343442, 46.642541609577762], [-119.63715442444786, 46.642354682527845], [-119.6379820420153, 46.642142186550011], [-119.63971879188053, 46.641592062921376], [-119.64040214792696, 46.641436575111499], [-119.64123603787878, 46.64132680472715], [-119.64288185756388, 46.641239205419801], [-119.64456828441513, 46.641100988775918], [-119.64532306473249, 46.640957166401435], [-119.64780510317213, 46.640354892546284], [-119.64981928225421, 46.640132984143499], [-119.65196645876789, 46.64006200159163], [-119.65489273054416, 46.64007266523744], [-119.65704142310534, 46.640159637210481], [-119.65918879113705, 46.64033310587233], [-119.66177157704143, 46.640669817150354], [-119.66391978584645, 46.641049560404234], [-119.66596320199558, 46.641513510959548], [-119.66892936238214, 46.642305134429542], [-119.67105761912188, 46.642953180449837], [-119.67361627885374, 46.643844240318359], [-119.67514416785868, 46.644444188347876], [-119.67712507210886, 46.645366984733876], [-119.6781227075974, 46.645750033208692], [-119.67966094635388, 46.646198784816249], [-119.68112173049308, 46.646501648248076], [-119.68484197650882, 46.647096689513361], [-119.6894838884938, 46.647839554704504], [-119.69219407533839, 46.64821656910447], [-119.69422569748251, 46.648436029861081], [-119.69636607124293, 46.648573099196362], [-119.70446059439787, 46.648926295192304], [-119.70594574275066, 46.648941400116264], [-119.71010396433047, 46.64888549907171], [-119.71105666641962, 46.648818188708788], [-119.71207398067502, 46.648688763767822], [-119.71721563447215, 46.647814930305351], [-119.71905266861397, 46.647448708876297], [-119.72044784407875, 46.647068454988641], [-119.72339811372147, 46.645985941925758], [-119.72707287461107, 46.644766305504291], [-119.72987058017017, 46.643613848584103], [-119.73347658061975, 46.642310098619653], [-119.73629691886066, 46.641083760775913], [-119.74036648328953, 46.639064412444498], [-119.74297009515089, 46.637939305952138], [-119.74750882192008, 46.636647617220888], [-119.7483582053205, 46.636406227442485], [-119.75097219712681, 46.635661856845516], [-119.75145032083796, 46.635633611912738], [-119.75288304330962, 46.63567143355899], [-119.75785887158801, 46.635427672567076], [-119.76145797332053, 46.63541682878914], [-119.76360109965583, 46.635324176884197], [-119.76545845784024, 46.635166607570362], [-119.76897778865367, 46.634721409944603], [-119.77173145106084, 46.634372837900727], [-119.77420903666228, 46.633973805341206], [-119.77546115307203, 46.633817032454672], [-119.7766485437801, 46.63374037985637], [-119.78119687775823, 46.633586991815477], [-119.78269590177403, 46.633424505005976], [-119.78469525474543, 46.633054964437598], [-119.78811649127309, 46.632326115316403], [-119.79016970880851, 46.632094088888721], [-119.79018849026556, 46.632091967642452], [-119.79289266209547, 46.631786501321038], [-119.79427277267703, 46.631578021690459], [-119.797871897287, 46.63092813272344], [-119.8003464893422, 46.630578396967231], [-119.80286906190112, 46.630213625717126], [-119.80545667197912, 46.629893069607405], [-119.80643069868039, 46.629678222979308], [-119.80886754364205, 46.629001747397524], [-119.8112176710605, 46.628567031062509], [-119.81241066066484, 46.628345909674984], [-119.81490318424335, 46.627665664385589], [-119.81866071302603, 46.627039381391974], [-119.82152889868721, 46.626224307174361], [-119.82242632112703, 46.626080498570289], [-119.82521492320546, 46.625895934454249], [-119.82657443534345, 46.625878573565245], [-119.82803829514863, 46.625794953110876], [-119.82872748729699, 46.625747249984478], [-119.83060250864442, 46.625728392871395], [-119.83225150065887, 46.625640151893165], [-119.83477669407795, 46.625505235596862], [-119.836401204233, 46.625464946447472], [-119.84383898077995, 46.62559641835896], [-119.8479253670819, 46.62572174976026], [-119.85111948672082, 46.625901004209773], [-119.85344368069677, 46.625932663580556], [-119.85398492090118, 46.625940161329098], [-119.85769042521387, 46.626298305348399], [-119.86497627645545, 46.626499890813619], [-119.86670637789551, 46.626621055409736], [-119.86898327961126, 46.62695789640437], [-119.87169454423133, 46.627598721930305], [-119.8743366828738, 46.628371582233072], [-119.87501049246291, 46.628622063079803], [-119.87581616468685, 46.62882921865971], [-119.87624186442885, 46.629195213098292], [-119.88013524118379, 46.630217627413408], [-119.88166406462608, 46.63054914771832], [-119.88981370472115, 46.631518863673342], [-119.89413002412236, 46.632130677061603], [-119.89469208446602, 46.632244024231433], [-119.89540900102631, 46.63238955742942], [-119.89614711378954, 46.632598269006799], [-119.89730135124617, 46.632979157189745], [-119.89815325684576, 46.633338426709692], [-119.89957288648594, 46.634202494533433], [-119.90171183590465, 46.635722240178715], [-119.90188042979754, 46.635870871681128], [-119.90368526357162, 46.637465451216421], [-119.90540908240185, 46.639291160801015], [-119.90699023035417, 46.640876832554341], [-119.90715047730843, 46.641037533359217], [-119.90757122231358, 46.641459447769549], [-119.90970663839063, 46.64390438074134], [-119.91039479324148, 46.644625866886471], [-119.91050483799113, 46.64474123880396], [-119.91095045872561, 46.645208418764042], [-119.91098019087468, 46.64523959431844], [-119.91216336101992, 46.646479969749812], [-119.91380517335811, 46.648577783760437], [-119.91430636626671, 46.649366347025662], [-119.91452427281261, 46.649838435357232], [-119.91463275262454, 46.650118174007766], [-119.91484577131405, 46.650675245084024], [-119.91499497443326, 46.651250924710887], [-119.91509879709791, 46.651651512773391], [-119.91529692670794, 46.652415943717166], [-119.91565077930686, 46.653209232429958], [-119.916583121952, 46.654651586096413], [-119.9170274861134, 46.655178130577845], [-119.91808372588801, 46.656214569881087], [-119.91932692717118, 46.657271827854053], [-119.92019251188205, 46.657895264412055], [-119.92098378237679, 46.658388746886466], [-119.92373667644863, 46.659815220639096], [-119.92476369465932, 46.660246437786455], [-119.92818920858521, 46.661359972731475], [-119.92935825709395, 46.661926745756965], [-119.93111186712237, 46.662962090739825], [-119.93236093445209, 46.663881931186111], [-119.93295873083069, 46.664422553757319], [-119.93640961192192, 46.667550597371168], [-119.93750963204009, 46.668457172414392], [-119.93803691021253, 46.66889351964052], [-119.93989526173439, 46.670242892245213], [-119.94161723710677, 46.67130479122315], [-119.94295426103537, 46.672226010864414], [-119.9449940622105, 46.6737754828265], [-119.94561723270422, 46.674393955867011], [-119.94733563266657, 46.677396366686949], [-119.94793456156175, 46.679030195020047], [-119.94851434659348, 46.68098319970413], [-119.94925976472673, 46.682524298228223], [-119.95249447374589, 46.687340667081145], [-119.95444326790235, 46.690495071426234], [-119.95495843609766, 46.69117963831777], [-119.95623522076745, 46.692620380458393], [-119.95676345606827, 46.69339686352874], [-119.95806436994197, 46.695822851234105], [-119.95874956046562, 46.696853031518287], [-119.95916381793651, 46.697480695139369], [-119.9604244091859, 46.700170890128746], [-119.96146330722543, 46.701921192256755], [-119.96191988956893, 46.702906210955611], [-119.96259336025538, 46.704133585125213], [-119.96409640442081, 46.706528385020434], [-119.96517797707604, 46.708014203301119], [-119.96826458986641, 46.712782615556989], [-119.96977005472709, 46.71579603393991], [-119.9714895529203, 46.718961234898103], [-119.97213081126618, 46.720259499776141], [-119.97287840767349, 46.722111177086305], [-119.97304583006202, 46.722526505078115], [-119.97328137755414, 46.724139122408715], [-119.97324589657134, 46.726560470663657], [-119.97339943236923, 46.729233756659518], [-119.97303358961182, 46.737138117433716], [-119.9724590799546, 46.740632180970884], [-119.97149284791536, 46.744413616186996], [-119.97122429891175, 46.745772480054264], [-119.9710299190547, 46.747705504675793], [-119.97105233941417, 46.749905323026702], [-119.97111208843437, 46.750732678799231], [-119.9710375646454, 46.751828534182984], [-119.97087095433697, 46.752548591138719], [-119.97078358592354, 46.752915990804617], [-119.97042736921118, 46.753845302195131], [-119.96988265494855, 46.754877449278723], [-119.96920658648908, 46.755871610915236], [-119.96851622349513, 46.756697061096254], [-119.96760558407244, 46.757601363773709], [-119.96633826296807, 46.758661317363817], [-119.96444492814065, 46.760075664744711], [-119.96154856389253, 46.762025699048685], [-119.96089022494139, 46.76242054682973], [-119.95797569721461, 46.764166281604979], [-119.95270458213221, 46.766890804372217], [-119.95101480671343, 46.767840588902232], [-119.9499380586844, 46.768552336813435], [-119.94832130476227, 46.769771708801628], [-119.94657789132708, 46.77127252755632], [-119.94471567786229, 46.773057249252531], [-119.9428881529322, 46.774954198875186], [-119.94166816019003, 46.776370065232072], [-119.94032031665725, 46.778178132290158], [-119.93944631767076, 46.779707758779352], [-119.93905407428801, 46.780577838880482], [-119.93887155204486, 46.781242954247567], [-119.9385396713117, 46.781875448094013], [-119.93841958921946, 46.782099715016088], [-119.93598843362815, 46.785174086253775], [-119.93369560236339, 46.788356386564672], [-119.93087635519177, 46.792596547122237], [-119.92858114980326, 46.796327839966267], [-119.92776985393512, 46.797528632041825], [-119.92741994307715, 46.798522961931653], [-119.92713801227701, 46.799880630875087], [-119.92661783068532, 46.804508834755957], [-119.92575595690114, 46.810084066349383], [-119.92570684574831, 46.810948627016842], [-119.92574727848174, 46.812031632653152], [-119.92600952288002, 46.813667595305169], [-119.92635760399429, 46.814742870967429], [-119.92702668052165, 46.816059702544365], [-119.92768316770253, 46.817059043775323], [-119.92770934193051, 46.817095038122034], [-119.93012439553897, 46.820415884035391], [-119.93142081614998, 46.822115909505101], [-119.93280571055975, 46.823763899635544], [-119.93432493062316, 46.825376556988196], [-119.93451078112489, 46.825559821092696], [-119.93563174910159, 46.826674180377125], [-119.9394814825574, 46.830302658386536], [-119.93982104042726, 46.830693334495209], [-119.94301547851285, 46.834373687475725], [-119.94485372294018, 46.836297958932178], [-119.94728486818867, 46.838483134210612], [-119.94931584418191, 46.840153213664195], [-119.95093551737767, 46.841407594298381], [-119.95212318582448, 46.842516263020038], [-119.95662854015355, 46.847537170386282], [-119.9578965758847, 46.849026972892091], [-119.95901295514483, 46.850097198090793], [-119.96057254348676, 46.851817964838638], [-119.96121897765119, 46.852531548869599], [-119.96299952204993, 46.854355485646771], [-119.96336433723911, 46.854851446855754], [-119.96396579491608, 46.855670017771992], [-119.96461248980678, 46.856968325884466], [-119.96480059235937, 46.857753435375287], [-119.96521494268501, 46.861128130659395], [-119.96505513732784, 46.864752777985188], [-119.96502216237991, 46.868087326153713], [-119.96508387198767, 46.869528921340631], [-119.96516164535082, 46.871364075767922], [-119.96551344747266, 46.873797585423858], [-119.96561066186459, 46.875290071044162], [-119.96558272596431, 46.877131597227802], [-119.96558105499639, 46.877241622535962], [-119.96556742424434, 46.878139918462082], [-119.96556575272646, 46.878249993095295], [-119.96553027242803, 46.880588767254416], [-119.96570050209534, 46.884204619822597], [-119.96558123841183, 46.886758665752808], [-119.96571956658074, 46.888950204455632], [-119.96551045108664, 46.891083938219154], [-119.96531466253187, 46.892276858635014], [-119.96506583484647, 46.893169607408616], [-119.96515243987845, 46.893714990549029], [-119.96516101458708, 46.894465663841288], [-119.96496373738667, 46.897824127698712], [-119.96493757568909, 46.898648673658627], [-119.96484980979534, 46.901247057261955], [-119.96452106309887, 46.905356551528932], [-119.96418820966693, 46.907853017132538], [-119.96410241554548, 46.913072451824789], [-119.96405084327934, 46.914439796925258], [-119.96343743832951, 46.917374716334251], [-119.9632877959383, 46.918741958876225], [-119.96325601034172, 46.919928091422143], [-119.9635642056699, 46.922338749029514], [-119.96409727877858, 46.924680858650987], [-119.96449506297915, 46.925735671399295], [-119.96513141987144, 46.926951285928219], [-119.96529950382872, 46.927560108471035], [-119.96529369125588, 46.929158703109373], [-119.96496057329115, 46.930462024792071], [-119.96457481616477, 46.93141650839064], [-119.96444045440965, 46.932453049385337], [-119.9641760516047, 46.933281634059767], [-119.96408342439071, 46.934548697159798], [-119.96416748337936, 46.934952849232722], [-119.96461691330302, 46.935651766405059], [-119.9648073841166, 46.936225046053586], [-119.96509869650485, 46.937530937112662], [-119.9650043741423, 46.938158062052416], [-119.96503417966862, 46.938382359548513], [-119.96564329429445, 46.940344706951507], [-119.96560782426093, 46.941906826644157], [-119.96558869379544, 46.942626513728619], [-119.96564180639089, 46.942923581982036], [-119.96628819270596, 46.943957243045297], [-119.96734505551348, 46.94478267965426], [-119.96774550832852, 46.945181764620628], [-119.96911150768547, 46.946744864171883], [-119.96968480137198, 46.947486805626632], [-119.97074383192155, 46.949328842417749], [-119.97219126782856, 46.95158907803679], [-119.97333174689658, 46.953719343076479], [-119.97507896460976, 46.956061462894532], [-119.97530190674593, 46.956402814365987], [-119.97623115073702, 46.957831533860286], [-119.97770613944934, 46.959778872157436], [-119.97846576921998, 46.961158104951593], [-119.97884974778135, 46.96162529451238], [-119.98009701220946, 46.962697589058763], [-119.9805213163928, 46.963138905849604], [-119.98256639410585, 46.965809558498691], [-119.98365401652012, 46.967053456268481], [-119.984293367511, 46.967841924067081], [-119.9857619532488, 46.970095894717964], [-119.98633152882816, 46.971067723751517], [-119.98755543335497, 46.973162557754051], [-119.98914886590399, 46.975376591492328], [-119.99115862180115, 46.978489063988008], [-119.9925280370867, 46.980272610083873], [-119.99358316893367, 46.982254565049665], [-119.99411713947741, 46.982992771070549], [-119.99493009346827, 46.985175868154656], [-119.99518577433352, 46.985470737409003], [-119.99544144856034, 46.985766615070972], [-119.99685265579578, 46.986974804828478], [-119.99701820314657, 46.987269246134566], [-119.99753285485131, 46.988797421342987], [-119.99778043942685, 46.989319798736538], [-119.99946007336673, 46.991413761281841], [-120.00061742240355, 46.993227100349742], [-120.00117617670779, 46.993907467656733], [-120.00138118309518, 46.994273390836405], [-120.00155236746741, 46.99483038842709], [-120.00166900091027, 46.995649041955296], [-120.00226848859916, 46.997565867515526], [-120.00222521221311, 46.99878209196185], [-120.00227626048679, 46.999330373180456], [-120.0024168144846, 46.999734731851945], [-120.00261401763998, 47.000080903779114], [-120.00265741270103, 47.000155973591141], [-120.0024467492657, 47.001265224511911], [-120.00213106185217, 47.002248906230363], [-120.00179949041922, 47.003210911674685], [-120.00148695144246, 47.004502059055383], [-120.001369196344, 47.005963006223958], [-120.00143572216302, 47.007873057153496], [-120.00170028143384, 47.008953840246399], [-120.00222059325145, 47.010126896135773], [-120.0029984358243, 47.01141452080347], [-120.00439032886342, 47.013062246557162], [-120.00522194966821, 47.014179372835649], [-120.00538852979061, 47.014593434230001], [-120.00565503680549, 47.015259523672512], [-120.00583843444926, 47.016241565793727], [-120.0061273907087, 47.016865578999109], [-120.00601432477863, 47.020233202008392], [-120.00632293606154, 47.022212496742974], [-120.00707559570469, 47.024964854759403], [-120.00736749339183, 47.026810046812528], [-120.00739684516843, 47.027982344841725], [-120.00731117834133, 47.02901979701447], [-120.00719861780624, 47.03036252919506], [-120.00726015504924, 47.032405523224483], [-120.00745032926565, 47.033098670095868], [-120.00786624395759, 47.03410056279494], [-120.00872946696637, 47.03575385911109], [-120.00938286079773, 47.036666955803739], [-120.01113699099183, 47.038714715483778], [-120.01216294357667, 47.039690380762302], [-120.01440358671915, 47.041625008339885], [-120.01687777397359, 47.043481741500891], [-120.01818066509227, 47.044460569342128], [-120.02289490413759, 47.047506864614668], [-120.02756347471933, 47.050331750630484], [-120.03147904257438, 47.053076588212093], [-120.03374929984321, 47.054978376043678], [-120.03493130303869, 47.056085743092758], [-120.03671646332145, 47.057976934681214], [-120.03789940966531, 47.059452369598183], [-120.03905249628528, 47.061147355055311], [-120.04001011722346, 47.062716107684373], [-120.04083151740123, 47.064262045467103], [-120.04145772680201, 47.065649515513286], [-120.0422177161616, 47.067821361340521], [-120.0426698682824, 47.069862454912204], [-120.04281758517064, 47.071845064962204], [-120.04276791309317, 47.072496417988617], [-120.04266883952374, 47.073762087381091], [-120.04222062533231, 47.07550071682958], [-120.04036312306772, 47.080579185727572], [-120.03946922518823, 47.083252015408625], [-120.0389815694887, 47.084413663632688], [-120.03767829191143, 47.087061565905096], [-120.03422525809232, 47.093630904681113], [-120.03086937134107, 47.099092485193054], [-120.02965712208837, 47.100885856247857], [-120.02935569954641, 47.101605763704114], [-120.02835831918094, 47.103841433562771], [-120.0276789945472, 47.104835321259145], [-120.02688347970454, 47.105791384933049], [-120.02611846615599, 47.106477139356294], [-120.02564512183768, 47.106759828224888], [-120.0252827967643, 47.106975796070763], [-120.02403702653366, 47.107522467597818], [-120.0215038540715, 47.108330442837364], [-120.02089824344527, 47.108687117987429], [-120.01990821054201, 47.109373298825211], [-120.01861734360426, 47.110015001026262], [-120.01788835515431, 47.110247074824123], [-120.01658424660407, 47.110564807218253], [-120.01505763101275, 47.110619086571695], [-120.01369756672156, 47.110908447615735], [-120.01298047523157, 47.111153564374533], [-120.01233125578285, 47.111438034541244], [-120.01112382136097, 47.112164319872143], [-120.01044321074728, 47.112811256015739], [-120.01008827549049, 47.11341331450047], [-120.00994680669113, 47.113953184755175], [-120.00984540280454, 47.115386084990377], [-120.00963317013461, 47.116193343410906], [-120.00941940919407, 47.116731208540564], [-120.00871675997904, 47.11802407352797], [-120.00834274599335, 47.118510201829842], [-120.00754538658023, 47.119173403271226], [-120.00697637947113, 47.119900663454153], [-120.00537380317458, 47.121630415059265], [-120.00454122970103, 47.122619065651399], [-120.00216151205629, 47.126479985705444], [-120.00158702237994, 47.12777884002184], [-120.00109516266288, 47.129916747513796], [-120.00086885590595, 47.131138271746401], [-120.00080020401144, 47.13150110359593], [-120.00064206055286, 47.132844439132668], [-120.00052526114614, 47.133957446857373], [-120.00023154558166, 47.134867147561394], [-120.00008900123987, 47.136583272473686], [-120.0003149149958, 47.138212568420272], [-120.00050734508719, 47.140209092631537], [-120.00065754950313, 47.142205789137854], [-120.00070698783578, 47.143807226654999], [-120.0010467138755, 47.145303341927402], [-120.00108723595244, 47.145483955951562], [-120.0012107811021, 47.146029261093474], [-120.00160923385259, 47.147049921430416], [-120.00222006232632, 47.148570145968669], [-120.00288113439872, 47.149662864730089], [-120.00349314558468, 47.150848587440841], [-120.00415161918414, 47.151574895495997], [-120.00569868958949, 47.153573802368633], [-120.00722266167789, 47.155258980151388], [-120.00797293955146, 47.156286925914785], [-120.00877356264992, 47.157522772031747], [-120.00915694503099, 47.158237625975232], [-120.00995965405031, 47.160137673627339], [-120.01016280783233, 47.160778745363963], [-120.01034396137437, 47.161633583991289], [-120.01060042061461, 47.163486070735992], [-120.01085413850635, 47.167411342788853], [-120.01074451015853, 47.169735592394709], [-120.01052391536638, 47.171444523607477], [-120.01020040620341, 47.172526490985589], [-120.00963817704935, 47.173775407429424], [-120.00926583434256, 47.174371703136423], [-120.00921988389783, 47.174445701019017], [-120.00739776858774, 47.177365857166826], [-120.00509963692853, 47.180645862612657], [-120.0046098768557, 47.181422764931042], [-120.00396979879466, 47.182585633981432], [-120.00370062203611, 47.183424150494105], [-120.00356833407722, 47.184685131496764], [-120.00353171160889, 47.185820427895457], [-120.00367853229666, 47.187120332166231], [-120.00391465131118, 47.188118995585207], [-120.00394120683472, 47.188183212199547], [-120.00394809316549, 47.188199692388288], [-120.00422524806213, 47.18889282257684], [-120.00532943685027, 47.192911012922565], [-120.00563833849449, 47.194202501196663], [-120.00583459731497, 47.197352618265015], [-120.00577649050079, 47.199730852852213], [-120.00549124811583, 47.200892660973324], [-120.0050722477089, 47.202594355131062], [-120.00442027181428, 47.205235311724444], [-120.00390451262899, 47.205974748324529], [-120.00338678874255, 47.206703209762772], [-120.00280257231287, 47.207881026036546], [-120.00244337761136, 47.209300754799216], [-120.00237610121275, 47.210265892832822], [-120.00249009122005, 47.211856600749414], [-120.00282183792942, 47.213184020349424], [-120.00331232069696, 47.214753393579343], [-120.00395059001835, 47.216004997679349], [-120.00481826609709, 47.217151857232118], [-120.00490672593196, 47.217268238948321], [-120.00707354352463, 47.220133016901578], [-120.00612957231782, 47.220541982952234], [-120.005992799476, 47.22060123800253], [-120.00489776545861, 47.221075636340984], [-120.00486268389901, 47.224332676712031], [-120.00486097224268, 47.224465580772602], [-120.00476969635073, 47.231570465866447], [-120.00450387713495, 47.238726927839338], [-120.00439017842588, 47.245959369208414], [-120.00377987882048, 47.252723118613822], [-120.00291386519886, 47.262317903887556], [-120.00440162883608, 47.262298971196216], [-120.00450520997848, 47.269553632306902], [-120.0046088110609, 47.27680827305231], [-120.0045693450699, 47.291307062325579], [-120.00478204676857, 47.305794234982315], [-120.00470720338365, 47.319996336526273], [-119.98310438733617, 47.32042822947367], [-119.98323356707758, 47.334622614005525], [-119.96182332626596, 47.334952453209496], [-119.9613414621729, 47.348779333869494], [-119.94044233983335, 47.349434919216613], [-119.94023611789162, 47.364335309789347], [-119.91891456557111, 47.364476768088807], [-119.91888070796641, 47.378930053275887], [-119.91872301456165, 47.393449443790743], [-119.89738502046724, 47.393471804302393], [-119.89717319895946, 47.407968923114147], [-119.87582167001787, 47.408304644336191], [-119.87582466793503, 47.422927198622624], [-119.87575964708194, 47.437492079491378], [-119.85416114542451, 47.437379143010467], [-119.83278049178958, 47.437781262209413], [-119.81139997380555, 47.438146884921736], [-119.79010377481009, 47.438524198170171], [-119.76865812991208, 47.438870928752728], [-119.75814674033188, 47.439088217618171], [-119.74728759979878, 47.43931223009276], [-119.74175819860774, 47.439408633634628], [-119.72590542327063, 47.439684031424726], [-119.70484799419302, 47.43993313746001], [-119.68376793753457, 47.440321849279634], [-119.67323238474199, 47.44048054821392], [-119.67290902666281, 47.440485458602524], [-119.66209853706206, 47.44064837847818], [-119.64078940487494, 47.440913870915942], [-119.62975929663148, 47.441148595232953], [-119.6192254216582, 47.440921519249812], [-119.60898684271811, 47.441018843675401], [-119.59809406854822, 47.441121398493827], [-119.58723801732917, 47.44116688638011], [-119.57638194790688, 47.441211357842676], [-119.57103531963774, 47.441231566513508], [-119.56568868730704, 47.441251532049051], [-119.55499540675889, 47.441290725456561], [-119.5443021107434, 47.441328935353859], [-119.5336087997031, 47.441366158997745], [-119.53328156662471, 47.455674614501149], [-119.53335424202939, 47.469985029204153], [-119.53334291782559, 47.484467347723154], [-119.53318531024654, 47.498763656288489], [-119.53321460278389, 47.513241079292555], [-119.5328910392315, 47.527756242725154], [-119.51169097241836, 47.527632942247209], [-119.51209225483393, 47.542040045817579], [-119.49046743744228, 47.542019921581151], [-119.49009753744838, 47.556540967349292], [-119.46917382228112, 47.556606496277738], [-119.46909882589168, 47.570759929801632], [-119.44768163332461, 47.570454578665135], [-119.44774067671187, 47.577676560368481], [-119.44779973607986, 47.584898517034453], [-119.43731958984543, 47.584830482983953], [-119.4268395190237, 47.584761512766406], [-119.42680250086991, 47.591903306804937], [-119.42676817110183, 47.599042916010333], [-119.40531937868894, 47.599012057918493], [-119.40518761820597, 47.612635264104284], [-119.38409990141059, 47.612395285134568], [-119.38363775788217, 47.612393604302312], [-119.36300416750173, 47.612348446461674], [-119.36275921417727, 47.612333036182079], [-119.34663628058806, 47.612369696641366], [-119.34176659482074, 47.612387895882605], [-119.34162660279571, 47.619576251671823], [-119.34161545532186, 47.621769379384148], [-119.34148495140226, 47.626747760316889], [-119.32934827227596, 47.626791646697541], [-119.32931558749839, 47.626791762861984], [-119.32030419021169, 47.626796918366381], [-119.32030681341632, 47.632442086690716], [-119.32030681618892, 47.632450026128105], [-119.3202902190834, 47.637138899286384], [-119.32028950262675, 47.637225709938448], [-119.32026633709833, 47.640032349906228], [-119.32026334187704, 47.640395137720724], [-119.3202564640832, 47.641228247622749], [-119.32024984285704, 47.642260710362208], [-119.32024982957614, 47.642313911686728], [-119.32024863051629, 47.648544963279733], [-119.32033684103192, 47.655647060409564], [-119.3201436314237, 47.670232286128225], [-119.30942324973445, 47.67028346581187], [-119.30582680265584, 47.670388254818995], [-119.30580057811295, 47.670388310111754], [-119.29883314763292, 47.670403179343005], [-119.29880010402744, 47.684735345080234], [-119.29879900749053, 47.687662210849446], [-119.29879703937826, 47.687884469586102], [-119.29869689733769, 47.699204797397613], [-119.29869047746817, 47.713612745227842], [-119.29864871367917, 47.728327964111884], [-119.28072097981514, 47.728260522762348], [-119.28067859686112, 47.728260360308575], [-119.27723754643814, 47.728238096656568], [-119.27721318775043, 47.731771883505573], [-119.27721306424594, 47.731800598297013], [-119.27716737097983, 47.742602723670913], [-119.26631832928632, 47.742572648912819], [-119.26630474025171, 47.742572571332133], [-119.2557829318974, 47.74251403730532], [-119.25578171185495, 47.750159806526689], [-119.25578170350887, 47.750209167674136], [-119.25577941203382, 47.757169623830443], [-119.2558624706831, 47.771687249272013], [-119.23602102100477, 47.77197141645091], [-119.23599490676978, 47.7719715482636], [-119.23416646503597, 47.771980832613316], [-119.23410661500255, 47.774663670115451], [-119.23410158678091, 47.774977837800897], [-119.23392360291801, 47.786102524744415], [-119.23398976008495, 47.800739096207188], [-119.21240992150402, 47.800695256887074], [-119.21221814328769, 47.81506918254231], [-119.21226282792294, 47.829590553841015], [-119.21222472941734, 47.84400193228916], [-119.21234218864706, 47.858380281717047], [-119.21217475520892, 47.873082630066911], [-119.21222512960733, 47.88770810979787], [-119.1932962455935, 47.887806040161642], [-119.19322848807943, 47.887806181435884], [-119.19063073501674, 47.887811609775376], [-119.19065454796767, 47.891695357907977], [-119.19065505696784, 47.891778101184322], [-119.19055220103623, 47.902464715405756], [-119.16899301986348, 47.902706879721599], [-119.16492198051084, 47.902668722624348], [-119.16486639697706, 47.90266820231561], [-119.14739269702052, 47.902632468229115], [-119.14744956571001, 47.909433797258977], [-119.14745043535291, 47.909560025636544], [-119.14745346005176, 47.910000255330829], [-119.14739961816038, 47.917384175401239], [-119.12590361466245, 47.917300914320528], [-119.12565321336565, 47.932071484635827], [-119.1255811338513, 47.946802569234833], [-119.10396573697062, 47.94669314270886], [-119.10387316846534, 47.961741200522404], [-119.10311754391638, 47.96176406610288], [-119.08221692568648, 47.961784261080084], [-119.08167061831503, 47.961762587378615], [-119.08091487713988, 47.961789447949009], [-119.06038396613737, 47.961867103999026], [-119.06000001941626, 47.961878486850175], [-119.0593899883967, 47.961872731272187], [-119.03855897425379, 47.961949058023848], [-119.03828565146657, 47.961944614334641], [-119.03767335816686, 47.961948311894083], [-119.01698580614027, 47.962069528463033], [-119.00615871123175, 47.962116989755579], [-118.9954271758609, 47.962183783762129], [-118.98510201414041, 47.962059647279148], [-118.98403252676098, 47.962046735696951], [-118.9836042897019, 47.962041562625721], [-118.98342841228332, 47.962039439256181], [-118.98291877269332, 47.962033280839449], [-118.98223376179745, 47.962025001590654], [-118.98222952527439, 47.96155922529573]]] }, "properties": { "OBJECTID": 2480, "JURISDICT_": 25, "JURISDIC_1": 4, "JURISDIC_2": "Grant", "JURISDIC_3": "Grant County", "JURISDIC_4": 13, "JURISDIC_5": 53025, "JURISDIC_6": "", "EDIT_DATE": "2018-03-14T00:00:00.000Z", "EDIT_STATU": 1, "EDIT_WHO": "TSTE490" } };
    </script>
</head>

<body>
    <div class="content">
        <div id="map"></div>
    </div>

    <div class="messages active">
        <h4>File Sizes</h4>

        <div class="log"></div>
    </div>

    <div class="navigation">
        <button onclick="drawFullOutline()">Draw Full</button>
        <button onclick="drawReducedPoints()">Simplify</button>
        <button onclick="drawConvexHull()">Convex</button>
        <button onclick="reset()">Reset</button>
        <button onclick="toggleStack()" class="toggle-stack">Stack Shapes</button>
        <button onclick="toggleMarkers()" class="toggle-markers active">Show Markers</button>
    </div>

    <script>
        let map = null;
        let bounds = null;
        let points = [];
        let point = null;
        let latLng = null;
        let data = null;
        let polygons = [];
        let markers = [];
        let stackShapes = false;
        let showMarkers = true;

        let logEl = document.querySelector('.log');
        let toggleStackEl = document.querySelector('.toggle-stack');
        let toggleMarkersEl = document.querySelector('.toggle-markers');

        /**
         * Primary Map Functions
         */

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: {
                    lat: 47.7511,
                    lng: -120.7401
                },
                zoom: 7
            });
        }

        function drawPolygon() {
            bounds = new google.maps.LatLngBounds();

            points = data.geometry.coordinates[0].map(point => {
                point = new google.maps.LatLng(round(point[1], 4), round(point[0], 4));
                bounds.extend(point);

                if (showMarkers) {
                    markers.push(new google.maps.Marker({
                        position: point,
                        map: map
                    }));
                }

                return point;
            });

            polygons.push(new google.maps.Polygon({
                map: map,
                paths: points,
                strokeColor: '#FF0000',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#FF0000',
                fillOpacity: 0.35
            }));

            map.fitBounds(bounds); // auto - zoom
            map.panToBounds(bounds); // auto - center
        }

        function removeMarkers() {
            markers.forEach(function (marker) {
                marker.setMap(null);
            });
            markers = [];
        }

        function addMarkers() {
            polygons.forEach(function (polygon) {
                polygon.getPaths().getArray().forEach(function (arr) {
                    arr.forEach(function (point) {
                        markers.push(new google.maps.Marker({
                            position: point,
                            map: map
                        }));
                    })
                })
            });
        }

        function resetMapParams(override) {

            if (!stackShapes || override) {
                polygons.forEach(function (polygon) {
                    polygon.setMap(null);
                });
                polygons = [];

                removeMarkers();
                clearLog();
            }

            data = null;
            bounds = null;
            points = [];
            points = null;
            latLng = null;
        }

        /**
         * Handlers
         */

        function drawFullOutline() {
            // console.log('draw full outline');

            resetMapParams();
            data = county;
            drawPolygon();

            // console.log(JSON.stringify(points));
            console.log('full size: ', stringSize(JSON.stringify(points)));
            log('full size: ' + stringSize(JSON.stringify(points)));
        }

        function drawReducedPoints() {
            resetMapParams();
            data = turf.transformScale(turf.simplify(county, {
                tolerance: 0.05,
                highQuality: true
            }), 1.02);
            drawPolygon();

            // console.log(JSON.stringify(points));
            console.log('simplified size: ', stringSize(JSON.stringify(points)));
            log('simplified size: ' + stringSize(JSON.stringify(points)));
        }

        function drawConvexHull() {
            resetMapParams();
            data = turf.transformScale(turf.simplify(county, {
                tolerance: 0.05,
                highQuality: true
            }), 1.02);
            data = turf.concave(data) || turf.convex(data);
            drawPolygon();

            // console.log(JSON.stringify(points));
            console.log('convex size: ', stringSize(JSON.stringify(points)));
            log('convex size: ' + stringSize(JSON.stringify(points)));
        }

        function reset() {
            console.log('reset map');

            resetMapParams(true);
        }

        function toggleStack() {
            stackShapes = !stackShapes;

            if (stackShapes && toggleStackEl) {
                addClass(toggleStackEl, 'active');
            } else if (toggleStackEl) {
                removeClass(toggleStackEl, 'active');
            }
        }

        function toggleMarkers() {
            showMarkers = !showMarkers;

            if (showMarkers && toggleMarkersEl) {
                addClass(toggleMarkersEl, 'active');
                addMarkers();
            } else if (toggleMarkersEl) {
                removeClass(toggleMarkersEl, 'active');
                removeMarkers();
            }
        }

        /**
         * Utilities
         */

        function addClass(el, className) {
            if (el.classList) el.classList.add(className);
            else if (!hasClass(el, className)) el.className += ' ' + className;
        }

        function removeClass(el, className) {
            if (el.classList) el.classList.remove(className);
            else el.className = el.className.replace(new RegExp('\\b' + className + '\\b', 'g'), '');
        }

        function round(value, decimals) {
            return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);
        }

        function stringSize(str) {
            let size = new Blob([str]).size;

            // if (size > 999) {
                return size / 1000 + ' kb';
            // } else {
            //     return size + ' bytes';
            // }
        }

        function log(message) {
            logEl.innerHTML = logEl.innerHTML + message + '<br>';
        }

        function clearLog() {
            logEl.innerHTML = '';
        }
    </script>
</body>

</html>